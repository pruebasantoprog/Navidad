<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="Estilos.css"  rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!--Para evitar error :5500/favicon.ico:1 poner <link rel="shortcut icon" href="">  -->
    <link rel="shortcut icon" href="">
   
</head>
<body class="estilopagina">
    <header>
        <nav>
            <!--Sin javascript simulamos el efecto con un checkbox-->
            <input type="checkbox" id="ckbox">
            <label for="ckbox" class="drawer">
                <i class="fa fa-bars" aria-hidden="true">Menú</i>
            </label>
            <h1>Opciones Lotería</h1>
            <!--Lista desordenada que va a contener los botones-->
            <ul class="menu-box">
                <li><a href="index.html" class="fa fa-home" aria-hidden="true"> Inicio</a></li>
                <li><a href="#" class="fa fa-snowflake-o" aria-hidden="true"> Lotería Navidad</a></li>
                <li><a href="NinioJsonFetch.html" class="fa fa-grav" aria-hidden="true"> Lotería de El Niño</a></li>                
            </ul>
        </nav>
    </header>
    <div id="banner">
        <img src="fotonavidad.jpg" width="760" height="198" alt="Navidad" id="imagen">
    </div>
    <br/>
    <div id="gifanimados">
        <marquee direction="right">
        <img src="santa.gif" width="128" height="72" alt="santa" id="santa">
        </marquee>
    </div>
    <div class="inicio">
        <h1><u>Sorteo de Navidad</u></h1>
        <br/>
        
        <button id="cargarDatos">Comprobar Número</button>
        <label for="start">Introduce Número:</label>   
        <input type="number" name="numlot" id="numlot" min="0" max="99999" step="1" maxlength="5"/>
        
        <br/><br/>
    </div>
    <div><table id="filasEncontradas" caption="Atención"></table></div>
    <div id="resultado">
        <table id="termigordo"></table>
        <table id="gordos"></table>
        <table id="media"></table>        
    </div>
    <div>
        <table id="datos"></table>
    </div>
</body>

<script>
        
        window.addEventListener("load",iniciar,false);

function iniciar(){
    
    let dataValues=[];
    let decenaMillar0=0,decenaMillar1=0,decenaMillar2=0,decenaMillar3=0,decenaMillar4=0,decenaMillar5=0,decenaMillar6=0,
        decenaMillar7=0,decenaMillar8=0,decenaMillar9=0;
    let millar0=0,millar1=0,millar2=0,millar3=0,millar4=0,millar5=0,millar6=0,millar7=0,millar8=0,millar9=0;
    let centena0=0,centena1=0,centena2=0,centena3=0,centena4=0,centena5=0,centena6=0,centena7=0,centena8=0,centena9=0;
    let decena0=0,decena1=0,decena2=0,decena3=0,decena4=0,decena5=0,decena6=0,decena7=0,decena8=0,decena9=0;
    let terminacion0=0,terminacion1=0,terminacion2=0,terminacion3=0,terminacion4=0,terminacion5=0,terminacion6=0,terminacion7=0,
        terminacion8=0,terminacion9=0;
    let mediaDecMillar,mediaMillar,mediaCentena,mediaDecena,mediaTerminacion=0
    //let arrayDecMillar,arrayMillar,arrayCentena,arrayDecena,arrayTerminacion=[];
    let arrayTotalesDecMillar,arrayTotalesMillar,arrayTotalesCentena,arrayTotalesDecena,arrayTotalesTerm=[];

    let gordos=[];

    const datosjson=[{"type":"header","version":"1.0","comment":"Export to JSON"},
                     {"type":"database","name":"xxxxx"},
                     {"type":"table","name":"navidad","database":"xxxxx","data":
                    [
                    {"Anio":"2011","Categoria":"El Gordo","Numero":"58268","Premio":"400000","PremioSerie":"4000000"},
                    {"Anio":"2011","Categoria":"2º Premio","Numero":"53404","Premio":"125000","PremioSerie":"1250000"},
                    {"Anio":"2011","Categoria":"3º Premio","Numero":"02184","Premio":"50000","PremioSerie":"500000"},
                    {"Anio":"2011","Categoria":"4º Premios","Numero":"66832","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2011","Categoria":"4º Premios","Numero":"12249","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2011","Categoria":"5º Premios","Numero":"22418","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2011","Categoria":"5º Premios","Numero":"33003","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2011","Categoria":"5º Premios","Numero":"34001","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2011","Categoria":"5º Premios","Numero":"03643","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2011","Categoria":"5º Premios","Numero":"08128","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2011","Categoria":"5º Premios","Numero":"57038","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2011","Categoria":"5º Premios","Numero":"62718","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2011","Categoria":"5º Premios","Numero":"92202","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2012","Categoria":"El Gordo","Numero":"76058","Premio":"400000","PremioSerie":"4000000"},
                    {"Anio":"2012","Categoria":"2º Premio","Numero":"42260","Premio":"125000","PremioSerie":"1250000"},
                    {"Anio":"2012","Categoria":"3º Premio","Numero":"64084","Premio":"50000","PremioSerie":"500000"},
                    {"Anio":"2012","Categoria":"4º Premios","Numero":"85045","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2012","Categoria":"4º Premios","Numero":"23475","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2012","Categoria":"5º Premios","Numero":"11419","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2012","Categoria":"5º Premios","Numero":"22343","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2012","Categoria":"5º Premios","Numero":"55448","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2012","Categoria":"5º Premios","Numero":"49257","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2012","Categoria":"5º Premios","Numero":"30872","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2012","Categoria":"5º Premios","Numero":"31826","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2012","Categoria":"5º Premios","Numero":"50769","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2012","Categoria":"5º Premios","Numero":"24616","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2013","Categoria":"El Gordo","Numero":"62246","Premio":"400000","PremioSerie":"4000000"},
                    {"Anio":"2013","Categoria":"2º Premio","Numero":"79712","Premio":"125000","PremioSerie":"1250000"},
                    {"Anio":"2013","Categoria":"3º Premio","Numero":"51689","Premio":"50000","PremioSerie":"500000"},
                    {"Anio":"2013","Categoria":"4º Premios","Numero":"67065","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2013","Categoria":"4º Premios","Numero":"79800","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2013","Categoria":"5º Premios","Numero":"14850","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2013","Categoria":"5º Premios","Numero":"55695","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2013","Categoria":"5º Premios","Numero":"81854","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2013","Categoria":"5º Premios","Numero":"81156","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2013","Categoria":"5º Premios","Numero":"17320","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2013","Categoria":"5º Premios","Numero":"48589","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2013","Categoria":"5º Premios","Numero":"05721","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2013","Categoria":"5º Premios","Numero":"52754","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2014","Categoria":"El Gordo","Numero":"13437","Premio":"400000","PremioSerie":"4000000"},
                    {"Anio":"2014","Categoria":"2º Premio","Numero":"92845","Premio":"125000","PremioSerie":"1250000"},
                    {"Anio":"2014","Categoria":"3º Premio","Numero":"07637","Premio":"50000","PremioSerie":"500000"},
                    {"Anio":"2014","Categoria":"4º Premios","Numero":"07617","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2014","Categoria":"4º Premios","Numero":"67009","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2014","Categoria":"5º Premios","Numero":"46984","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2014","Categoria":"5º Premios","Numero":"32306","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2014","Categoria":"5º Premios","Numero":"98538","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2014","Categoria":"5º Premios","Numero":"74012","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2014","Categoria":"5º Premios","Numero":"91363","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2014","Categoria":"5º Premios","Numero":"60090","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2014","Categoria":"5º Premios","Numero":"67924","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2014","Categoria":"5º Premios","Numero":"52028","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2015","Categoria":"El Gordo","Numero":"79140","Premio":"400000","PremioSerie":"4000000"},
                    {"Anio":"2015","Categoria":"2º Premio","Numero":"12775","Premio":"125000","PremioSerie":"1250000"},
                    {"Anio":"2015","Categoria":"3º Premio","Numero":"05163","Premio":"50000","PremioSerie":"500000"},
                    {"Anio":"2015","Categoria":"4º Premios","Numero":"52215","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2015","Categoria":"4º Premios","Numero":"71119","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2015","Categoria":"5º Premios","Numero":"18102","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2015","Categoria":"5º Premios","Numero":"70481","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2015","Categoria":"5º Premios","Numero":"43221","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2015","Categoria":"5º Premios","Numero":"00943","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2015","Categoria":"5º Premios","Numero":"59435","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2015","Categoria":"5º Premios","Numero":"51688","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2015","Categoria":"5º Premios","Numero":"73867","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2015","Categoria":"5º Premios","Numero":"89023","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2016","Categoria":"El Gordo","Numero":"66513","Premio":"400000","PremioSerie":"4000000"},
                    {"Anio":"2016","Categoria":"2º Premio","Numero":"04536","Premio":"125000","PremioSerie":"1250000"},
                    {"Anio":"2016","Categoria":"3º Premio","Numero":"78748","Premio":"50000","PremioSerie":"500000"},
                    {"Anio":"2016","Categoria":"4º Premios","Numero":"59444","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2016","Categoria":"4º Premios","Numero":"07211","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2016","Categoria":"5º Premios","Numero":"22259","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2016","Categoria":"5º Premios","Numero":"19152","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2016","Categoria":"5º Premios","Numero":"39415","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2016","Categoria":"5º Premios","Numero":"70264","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2016","Categoria":"5º Premios","Numero":"91917","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2016","Categoria":"5º Premios","Numero":"60272","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2016","Categoria":"5º Premios","Numero":"68981","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2016","Categoria":"5º Premios","Numero":"03371","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2017","Categoria":"El Gordo","Numero":"71198","Premio":"400000","PremioSerie":"4000000"},
                    {"Anio":"2017","Categoria":"2º Premio","Numero":"51244","Premio":"125000","PremioSerie":"1250000"},
                    {"Anio":"2017","Categoria":"3º Premio","Numero":"06914","Premio":"50000","PremioSerie":"500000"},
                    {"Anio":"2017","Categoria":"4º Premios","Numero":"13378","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2017","Categoria":"4º Premios","Numero":"61207","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2017","Categoria":"5º Premios","Numero":"03278","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2017","Categoria":"5º Premios","Numero":"58808","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2017","Categoria":"5º Premios","Numero":"00580","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2017","Categoria":"5º Premios","Numero":"05431","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2017","Categoria":"5º Premios","Numero":"18065","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2017","Categoria":"5º Premios","Numero":"22253","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2017","Categoria":"5º Premios","Numero":"24982","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2017","Categoria":"5º Premios","Numero":"37872","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2018","Categoria":"El Gordo","Numero":"03347","Premio":"400000","PremioSerie":"4000000"},
                    {"Anio":"2018","Categoria":"2º Premio","Numero":"21015","Premio":"125000","PremioSerie":"1250000"},
                    {"Anio":"2018","Categoria":"3º Premio","Numero":"04211","Premio":"50000","PremioSerie":"500000"},
                    {"Anio":"2018","Categoria":"4º Premios","Numero":"42206","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2018","Categoria":"4º Premios","Numero":"67774","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2018","Categoria":"5º Premios","Numero":"47862","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2018","Categoria":"5º Premios","Numero":"07568","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2018","Categoria":"5º Premios","Numero":"68402","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2018","Categoria":"5º Premios","Numero":"29031","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2018","Categoria":"5º Premios","Numero":"63025","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2018","Categoria":"5º Premios","Numero":"20202","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2018","Categoria":"5º Premios","Numero":"18596","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2018","Categoria":"5º Premios","Numero":"02308","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2019","Categoria":"El Gordo","Numero":"26590","Premio":"400000","PremioSerie":"4000000"},
                    {"Anio":"2019","Categoria":"2º Premio","Numero":"10989","Premio":"125000","PremioSerie":"1250000"},
                    {"Anio":"2019","Categoria":"3º Premio","Numero":"00750","Premio":"50000","PremioSerie":"500000"},
                    {"Anio":"2019","Categoria":"4º Premios","Numero":"41710","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2019","Categoria":"4º Premios","Numero":"49797","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2019","Categoria":"5º Premios","Numero":"75206","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2019","Categoria":"5º Premios","Numero":"06293","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2019","Categoria":"5º Premios","Numero":"23059","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2019","Categoria":"5º Premios","Numero":"66212","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2019","Categoria":"5º Premios","Numero":"74770","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2019","Categoria":"5º Premios","Numero":"54527","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2019","Categoria":"5º Premios","Numero":"69823","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2019","Categoria":"5º Premios","Numero":"81610","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2020","Categoria":"El Gordo","Numero":"72897","Premio":"400000","PremioSerie":"4000000"},
                    {"Anio":"2020","Categoria":"2º Premio","Numero":"06095","Premio":"125000","PremioSerie":"1250000"},
                    {"Anio":"2020","Categoria":"3º Premio","Numero":"52472","Premio":"50000","PremioSerie":"500000"},
                    {"Anio":"2020","Categoria":"4º Premios","Numero":"75981","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2020","Categoria":"4º Premios","Numero":"38341","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2020","Categoria":"5º Premios","Numero":"86986","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2020","Categoria":"5º Premios","Numero":"37023","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2020","Categoria":"5º Premios","Numero":"19371","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2020","Categoria":"5º Premios","Numero":"49760","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2020","Categoria":"5º Premios","Numero":"55483","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2020","Categoria":"5º Premios","Numero":"28674","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2020","Categoria":"5º Premios","Numero":"43831","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2020","Categoria":"5º Premios","Numero":"31617","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2021","Categoria":"El Gordo","Numero":"86148","Premio":"400000","PremioSerie":"4000000"},
                    {"Anio":"2021","Categoria":"2º Premio","Numero":"72119","Premio":"125000","PremioSerie":"1250000"},
                    {"Anio":"2021","Categoria":"3º Premio","Numero":"19517","Premio":"50000","PremioSerie":"500000"},
                    {"Anio":"2021","Categoria":"4º Premios","Numero":"42833","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2021","Categoria":"4º Premios","Numero":"91179","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2021","Categoria":"5º Premios","Numero":"92052","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2021","Categoria":"5º Premios","Numero":"70316","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2021","Categoria":"5º Premios","Numero":"26711","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2021","Categoria":"5º Premios","Numero":"24198","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2021","Categoria":"5º Premios","Numero":"69457","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2021","Categoria":"5º Premios","Numero":"89053","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2021","Categoria":"5º Premios","Numero":"34345","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2021","Categoria":"5º Premios","Numero":"89109","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2022","Categoria":"El Gordo","Numero":"05490","Premio":"400000","PremioSerie":"4000000"},
                    {"Anio":"2022","Categoria":"2º Premio","Numero":"04074","Premio":"125000","PremioSerie":"1250000"},
                    {"Anio":"2022","Categoria":"3º Premio","Numero":"45250","Premio":"50000","PremioSerie":"500000"},
                    {"Anio":"2022","Categoria":"4º Premios","Numero":"54289","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2022","Categoria":"4º Premios","Numero":"25296","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2022","Categoria":"5º Premios","Numero":"62391","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2022","Categoria":"5º Premios","Numero":"43696","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2022","Categoria":"5º Premios","Numero":"88509","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2022","Categoria":"5º Premios","Numero":"38454","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2022","Categoria":"5º Premios","Numero":"24492","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2022","Categoria":"5º Premios","Numero":"79138","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2022","Categoria":"5º Premios","Numero":"36142","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2022","Categoria":"5º Premios","Numero":"87092","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2023","Categoria":"El Gordo","Numero":"88008","Premio":"400000","PremioSerie":"4000000"},
                    {"Anio":"2023","Categoria":"2º Premio","Numero":"58303","Premio":"125000","PremioSerie":"1250000"},
                    {"Anio":"2023","Categoria":"3º Premio","Numero":"31938","Premio":"50000","PremioSerie":"500000"},
                    {"Anio":"2023","Categoria":"4º Premios","Numero":"93361","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2023","Categoria":"4º Premios","Numero":"41147","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2023","Categoria":"5º Premios","Numero":"54274","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2023","Categoria":"5º Premios","Numero":"45353","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2023","Categoria":"5º Premios","Numero":"88979","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2023","Categoria":"5º Premios","Numero":"92023","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2023","Categoria":"5º Premios","Numero":"01568","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2023","Categoria":"5º Premios","Numero":"86007","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2023","Categoria":"5º Premios","Numero":"57421","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2023","Categoria":"5º Premios","Numero":"37038","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2024","Categoria":"El Gordo","Numero":"72480","Premio":"400000","PremioSerie":"4000000"},
                    {"Anio":"2024","Categoria":"2º Premio","Numero":"40014","Premio":"125000","PremioSerie":"1250000"},
                    {"Anio":"2024","Categoria":"3º Premio","Numero":"11840","Premio":"50000","PremioSerie":"500000"},
                    {"Anio":"2024","Categoria":"4º Premios","Numero":"48020","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2024","Categoria":"4º Premios","Numero":"77768","Premio":"20000","PremioSerie":"200000"},
                    {"Anio":"2024","Categoria":"5º Premios","Numero":"37876","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2024","Categoria":"5º Premios","Numero":"45225","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2024","Categoria":"5º Premios","Numero":"45456","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2024","Categoria":"5º Premios","Numero":"60622","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2024","Categoria":"5º Premios","Numero":"72853","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2024","Categoria":"5º Premios","Numero":"74778","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2024","Categoria":"5º Premios","Numero":"75143","Premio":"6000","PremioSerie":"60000"},
                    {"Anio":"2024","Categoria":"5º Premios","Numero":"97345","Premio":"6000","PremioSerie":"60000"}
                    ]
                    }];

        dataValues=datosjson[2].data;

        let tabla="<thead><tr><th>Año</th><th>Categoría</th><th>Número</th><th>Premio</th><th>Premio Serie</th></tr></thead>";
        
         //Trazas de todos los numeros con función flecha
         dataValues.forEach(item => {
                tabla+="<tr><td>";
                tabla+=item.Anio;
                tabla+="</td><td>";
                tabla+=item.Categoria;
                tabla+="</td><td>";
                tabla+=item.Numero;
                tabla+="</td><td>";
                tabla+=new Intl.NumberFormat('de-DE', { style: 'currency', currency: 'EUR' }).format(item.Premio);
                tabla+="</td><td>";
                tabla+=new Intl.NumberFormat('de-DE', { style: 'currency', currency: 'EUR' }).format(item.PremioSerie);
                tabla+="</td></tr>";
                
                //Guardamos los gordos para media de gordos
                if(item.Categoria=="El Gordo"){
                    gordos.push(item.Numero);
                }
                //console.log("item.Numero.charAt(0)",item.Numero.charAt(0));
                switch(item.Numero.charAt(0)){
                    case "0":
                        decenaMillar0++;                                
                        break;
                    case "1":
                        decenaMillar1++;
                        break;
                    case "2":
                        decenaMillar2++;
                        break;
                    case "3":
                        decenaMillar3++;
                        break;
                    case "4":
                        decenaMillar4++;
                        break;
                    case "5":
                        decenaMillar5++;
                        break;
                    case "6":
                        decenaMillar6++;
                        break;
                    case "7":
                        decenaMillar7++;
                        break;
                    case "8":
                        decenaMillar8++;
                        break;
                    case "9":
                        decenaMillar9++;
                        break;
                }
                switch(item.Numero.charAt(1)){
                    case "0":
                        millar0++;                                
                        break;
                    case "1":
                        millar1++;
                        break;
                    case "2":
                        millar2++;
                        break;
                    case "3":
                        millar3++;
                        break;
                    case "4":
                        millar4++;
                        break;
                    case "5":
                        millar5++;
                        break;
                    case "6":
                        millar6++;
                        break;
                    case "7":
                        millar7++;
                        break;
                    case "8":
                        millar8++;
                        break;
                    case "9":
                        millar9++;
                        break;
                }
                switch(item.Numero.charAt(2)){
                    case "0":
                        centena0++;                                
                        break;
                    case "1":
                        centena1++;
                        break;
                    case "2":
                        centena2++;
                        break;
                    case "3":
                        centena3++;
                        break;
                    case "4":
                        centena4++;
                        break;
                    case "5":
                        centena5++;
                        break;
                    case "6":
                        centena6++;
                        break;
                    case "7":
                        centena7++;
                        break;
                    case "8":
                        centena8++;
                        break;
                    case "9":
                        centena9++;
                        break;
                }
                
                switch(item.Numero.charAt(3)){
                    case "0":
                        decena0++;                                
                        break;
                    case "1":
                        decena1++;
                        break;
                    case "2":
                        decena2++;
                        break;
                    case "3":
                        decena3++;
                        break;
                    case "4":
                        decena4++;
                        break;
                    case "5":
                        decena5++;
                        break;
                    case "6":
                        decena6++;
                        break;
                    case "7":
                        decena7++;
                        break;
                    case "8":
                        decena8++;
                        break;
                    case "9":
                        decena9++;
                        break;
                }
                switch(item.Numero.charAt(4)){
                    case "0":
                        terminacion0++;                                
                        break;
                    case "1":
                        terminacion1++;
                        break;
                    case "2":
                        terminacion2++;
                        break;
                    case "3":
                        terminacion3++;
                        break;
                    case "4":
                        terminacion4++;
                        break;
                    case "5":
                        terminacion5++;
                        break;
                    case "6":
                        terminacion6++;
                        break;
                    case "7":
                        terminacion7++;
                        break;
                    case "8":
                        terminacion8++;
                        break;
                    case "9":
                        terminacion9++;
                        break;
                }
           });

           mediaDecMillar=calcularMedia(decenaMillar0,decenaMillar1,decenaMillar2,decenaMillar3,decenaMillar4,decenaMillar5,decenaMillar6,
                                       decenaMillar7,decenaMillar8,decenaMillar9);
           mediaMillar=calcularMedia(millar0,millar1,millar2,millar3,millar4,millar5,millar6,millar7,millar8,millar9);
           mediaCentena=calcularMedia(centena0,centena1,centena2,centena3,centena4,centena5,centena6,centena7,centena8,centena9);
           mediaDecena=calcularMedia(decena0,decena1,decena2,decena3,decena4,decena5,decena6,decena7,decena8,decena9);
           mediaTerminacion=calcularMedia(terminacion0,terminacion1,terminacion2,terminacion3,terminacion4,terminacion5,terminacion6,terminacion7,
                                          terminacion8,terminacion9);
           console.log("mediaDecMilar",mediaDecMillar);
           console.log("mediaMillar",mediaMillar);
           console.log("mediaCentena",mediaCentena);
           console.log("mediaDecena",mediaDecena);
           console.log("mediaTerminacion",mediaTerminacion);

           //Calcular Arrarys                                    
           arrayTotalesDecMillar=calcularNumeros([decenaMillar0,decenaMillar1,decenaMillar2,decenaMillar3,decenaMillar4,decenaMillar5,decenaMillar6,
           decenaMillar7,decenaMillar8,decenaMillar9],mediaDecMillar);

           arrayTotalesMillar=calcularNumeros([millar0,millar1,millar2,millar3,millar4,millar5,millar6,millar7,millar8,millar9],mediaMillar);

           arrayTotalesCentena=calcularNumeros([centena0,centena1,centena2,centena3,centena4,centena5,centena6,centena7,centena8,centena9],mediaCentena)

           arrayTotalesDecena=calcularNumeros([decena0,decena1,decena2,decena3,decena4,decena5,decena6,decena7,decena8,decena9],mediaDecena);

           arrayTotalesTerm=calcularNumeros([terminacion0,terminacion1,terminacion2,terminacion3,terminacion4,terminacion5,terminacion6,terminacion7,
                                            terminacion8,terminacion9],mediaTerminacion);

           arrayTotalesDecMillar.forEach(num=>{
                    console.log("DecenaMillar de num=",num); 
           });
           arrayTotalesMillar.forEach(num=>{
                    console.log("Millar de num=",num); 
           });
           arrayTotalesCentena.forEach(num=>{
                    console.log("Centena de num=",num); 
           });
           arrayTotalesDecena.forEach(num=>{
                    console.log("Decena de num=",num); 
           });
           arrayTotalesTerm.forEach(num=>{
                    console.log("Terminacion de num=",num); 
           });

           /*console.log(decenaMillar0," ",decenaMillar1," ",decenaMillar2," ",decenaMillar3," ",decenaMillar4," ",decenaMillar5," ",decenaMillar6," ",
                       decenaMillar7," ",decenaMillar8," ",decenaMillar9);
           console.log(millar0," ",millar1," ",millar2," ",millar3," ",millar4," ",millar5," ",millar6," ",millar7," ",millar8," ",millar9);
           console.log(centena0," ",centena1," ",centena2," ",centena3," ",centena4," ",centena5," ",centena6," ",centena7," ",centena8," ",centena9);
           console.log(decena0," ",decena1," ",decena2," ",decena3," ",decena4," ",decena5," ",decena6," ",decena7," ",decena8," ",decena9);
           console.log(terminacion0," ",terminacion1," ",terminacion2," ",terminacion3," ",terminacion4," ",terminacion5," ",terminacion6," ",
                       terminacion7," ",terminacion8," ",terminacion9);*/

           let tablaMedia="<tr><th>Media Números</th></tr>";

           arrayTotalesDecMillar.forEach(decMillar=>{
                arrayTotalesMillar.forEach(millar=>{
                    arrayTotalesCentena.forEach(centena=>{
                        arrayTotalesDecena.forEach(decena=>{
                            arrayTotalesTerm.forEach(terminacion=>{
                                tablaMedia+="<tr><td>";
                                tablaMedia+=`${decMillar}${millar}.${centena}${decena}${terminacion}`;
                                tablaMedia+="</td></tr>";
                            });
                        });
                    });
                });
           });

           //Calculo de gordo
           decenaMillar0=0,decenaMillar1=0,decenaMillar2=0,decenaMillar3=0,decenaMillar4=0,decenaMillar5=0,decenaMillar6=0,
           decenaMillar7=0,decenaMillar8=0,decenaMillar9=0;
           millar0=0,millar1=0,millar2=0,millar3=0,millar4=0,millar5=0,millar6=0,millar7=0,millar8=0,millar9=0;
           centena0=0,centena1=0,centena2=0,centena3=0,centena4=0,centena5=0,centena6=0,centena7=0,centena8=0,centena9=0;
           decena0=0,decena1=0,decena2=0,decena3=0,decena4=0,decena5=0,decena6=0,decena7=0,decena8=0,decena9=0;
           terminacion0=0,terminacion1=0,terminacion2=0,terminacion3=0,terminacion4=0,terminacion5=0,terminacion6=0,terminacion7=0,
           terminacion8=0,terminacion9=0;
           
           console.log("Total gordos",gordos.length);

            gordos.forEach(gordo=>{
            
                switch(gordo.charAt(0)){
                        case "0":
                            decenaMillar0++;                                
                            break;
                        case "1":
                            decenaMillar1++;
                            break;
                        case "2":
                            decenaMillar2++;
                            break;
                        case "3":
                            decenaMillar3++;
                            break;
                        case "4":
                            decenaMillar4++;
                            break;
                        case "5":
                            decenaMillar5++;
                            break;
                        case "6":
                            decenaMillar6++;
                            break;
                        case "7":
                            decenaMillar7++;
                            break;
                        case "8":
                            decenaMillar8++;
                            break;
                        case "9":
                            decenaMillar9++;
                            break;
                    }
                switch(gordo.charAt(1)){
                        case "0":
                            millar0++;                                
                            break;
                        case "1":
                            millar1++;
                            break;
                        case "2":
                            millar2++;
                            break;
                        case "3":
                            millar3++;
                            break;
                        case "4":
                            millar4++;
                            break;
                        case "5":
                            millar5++;
                            break;
                        case "6":
                            millar6++;
                            break;
                        case "7":
                            millar7++;
                            break;
                        case "8":
                            millar8++;
                            break;
                        case "9":
                            millar9++;
                            break;
                    }
                switch(gordo.charAt(2)){
                        case "0":
                            centena0++;                                
                            break;
                        case "1":
                            centena1++;
                            break;
                        case "2":
                            centena2++;
                            break;
                        case "3":
                            centena3++;
                            break;
                        case "4":
                            centena4++;
                            break;
                        case "5":
                            centena5++;
                            break;
                        case "6":
                            centena6++;
                            break;
                        case "7":
                            centena7++;
                            break;
                        case "8":
                            centena8++;
                            break;
                        case "9":
                            centena9++;
                            break;
                    }
                    
                switch(gordo.charAt(3)){
                        case "0":
                            decena0++;                                
                            break;
                        case "1":
                            decena1++;
                            break;
                        case "2":
                            decena2++;
                            break;
                        case "3":
                            decena3++;
                            break;
                        case "4":
                            decena4++;
                            break;
                        case "5":
                            decena5++;
                            break;
                        case "6":
                            decena6++;
                            break;
                        case "7":
                            decena7++;
                            break;
                        case "8":
                            decena8++;
                            break;
                        case "9":
                            decena9++;
                            break;
                    }
                switch(gordo.charAt(4)){
                        case "0":
                            terminacion0++;                                
                            break;
                        case "1":
                            terminacion1++;
                            break;
                        case "2":
                            terminacion2++;
                            break;
                        case "3":
                            terminacion3++;
                            break;
                        case "4":
                            terminacion4++;
                            break;
                        case "5":
                            terminacion5++;
                            break;
                        case "6":
                            terminacion6++;
                            break;
                        case "7":
                            terminacion7++;
                            break;
                        case "8":
                            terminacion8++;
                            break;
                        case "9":
                            terminacion9++;
                            break;
                    }
            });

           arrayTotalesDecMillar=calcularNumeroSinSalir([decenaMillar0,decenaMillar1,decenaMillar2,decenaMillar3,decenaMillar4,decenaMillar5,decenaMillar6,
           decenaMillar7,decenaMillar8,decenaMillar9]);

           arrayTotalesMillar=calcularNumeroSinSalir([millar0,millar1,millar2,millar3,millar4,millar5,millar6,millar7,millar8,millar9]);

           arrayTotalesCentena=calcularNumeroSinSalir([centena0,centena1,centena2,centena3,centena4,centena5,centena6,centena7,centena8,centena9]);

           arrayTotalesDecena=calcularNumeroSinSalir([decena0,decena1,decena2,decena3,decena4,decena5,decena6,decena7,decena8,decena9]);

           arrayTotalesTerm=calcularNumeroSinSalir([terminacion0,terminacion1,terminacion2,terminacion3,terminacion4,terminacion5,terminacion6,terminacion7,
                                            terminacion8,terminacion9]);

           let tablaGodos="<tr><th>Fila</th><th colspan=10>Combinaciones Numeros Sin Salir en Gordo</th></tr>";

           console.log("Total arrayTotalesDecMillar",arrayTotalesDecMillar.length);
           let contador=0;
           let fila=0;
           let resto=0;
           arrayTotalesDecMillar.forEach(decMillar=>{
                arrayTotalesMillar.forEach(millar=>{
                    arrayTotalesCentena.forEach(centena=>{
                        arrayTotalesDecena.forEach(decena=>{
                            arrayTotalesTerm.forEach(terminacion=>{
                                contador++;
                                //Comprobamos si hay que añador una nueva fila porque quermos 5 elementos por fila
                                resto = (contador-1) % 10;                                        
                                if(resto==0 || fila==0){                                           
                                    if(fila==0){
                                        tablaGodos+="<tr><td>";
                                    }else{
                                        tablaGodos+="</tr><tr><td>";
                                    }
                                    fila++;
                                    tablaGodos+=`${fila}`;
                                    tablaGodos+="</td>";
                                }                                   
                                
                                tablaGodos+="<td>";
                                tablaGodos+=`${decMillar}${millar}.${centena}${decena}${terminacion}`;
                                tablaGodos+="</td>";                                        
                            });
                        });
                    });
                });
           });

           //Si hay elementos dentro gordos cerramos la tabla
           if(contador!=0){
                tablaGodos+="</tr>";
           }

           let tablaTerminaciones="<tr><th colspan="+arrayTotalesTerm.length+">Terminaciones sin salir en Gordo desde que hay 100.000 numeros(en"+
            "<a href='https://es.wikipedia.org/wiki/Sorteo_Extraordinario_de_Navidad#:~:text=Esta%20consiste%20en%20cualquier%20papeleta,la%20cantidad%20de%20n%C3%BAmeros%20que' target='_blank'> 2011</a>)</th></tr>";
           tablaTerminaciones+="<tr>";
           arrayTotalesTerm.forEach(terminacion=>{
                                tablaTerminaciones+="<td>";
                                tablaTerminaciones+=`${terminacion}`;
                                tablaTerminaciones+="</td>";
                            });
           tablaTerminaciones+="</tr>";

           document.getElementById("termigordo").innerHTML=tablaTerminaciones;
           document.getElementById("gordos").innerHTML=tablaGodos;
           document.getElementById("datos").innerHTML=tabla;
           document.getElementById("media").innerHTML=tablaMedia;
           
           document.getElementById("cargarDatos").addEventListener("click",function() { calcular(dataValues); },false);

}

function calcularMedia(num1,num2,num3,num4,num5,num6,num7,num8,num8,num10){
    return (num1+num2+num3+num4+num5+num6+num7+num8+num8+num10)/10;
} 

function calcularNumeroSinSalir(arrayDeNumeros){
    //console.log("Entra en media sin salir",arrayDeNumeros.length);
    let arrayNumeroSinSalir=[];            
    arrayDeNumeros.forEach((numero,indice)=>{
            if(Math.trunc(numero)==0){
                arrayNumeroSinSalir.push(indice);
            }
    });
    //console.log("Numeros sin salir",arrayNumeroSinSalir.length);
    return arrayNumeroSinSalir;           
}

function calcularNumeros(arrayDeNumeros,media){
    let parteEntera=Math.trunc(media);
    let arrayResult=[];

    arrayDeNumeros.forEach((numero,indice)=>{
        if(numero===parteEntera){
            arrayResult.push(indice);
        }
    });
    //Intentamos por el superior si pasa de 0.5
    if(arrayResult.length==0){
        parteEntera=Math.round(media);
        arrayDeNumeros.forEach((numero,indice)=>{
            if(numero===parteEntera){
                arrayResult.push(indice);
            }
        });
    }

    //Si sigue siendo 0
    if(arrayResult.length==0){
        parteEntera=Math.floor(media);
        arrayDeNumeros.forEach((numero,indice)=>{
            if(numero===parteEntera){
                arrayResult.push(indice);
            }
        });
    }

    //Si sigue siendo 0 obtenemos los más cercanos
    if(arrayResult.length==0){
        parteEntera=Math.trunc(media);
        arrayDeNumeros.forEach((numero,indice)=>{
            if(numero===(parteEntera+1)||numero===(parteEntera-1)){
                arrayResult.push(indice);
            }
        })
    }

    return arrayResult;

}
    
    function calcular(dataValues){
            console.log("Entra en calcular dataValues.length=",dataValues.length);
            let numlot=document.getElementById("numlot");
            let numero = numlot.value;                     
            console.log("valor="+numero);
            const filas = document.getElementById("datos").getElementsByTagName('tbody')[0].getElementsByTagName('tr');

            console.log("Total Filas",filas.length);
            
            let encontrado=false;
            let celdas;
            let filasEncontradas="";

            for(let i=0;i<filas.length;i++){
                celdas = filas[i].getElementsByTagName('td');
                console.log("Total Celdas",celdas.length);
                if(celdas[2].textContent==numero){
                    console.log("celdas[2].textContent",celdas[2].textContent);
                }
                
                for(let j=0;j<celdas.length;j++){
                    console.log("Entra en for");
                    if(celdas[j].textContent==numero.toString()){
                        encontrado=true;
                        filasEncontradas+="<tr><td>El numero "+numero+" fue "+celdas[j-1].textContent+" en el año "+celdas[j-2].textContent +"con premio a la serie de "+celdas[j+2].textContent+"</td></tr>";                       
                        j=celdas.length;
                    }
                }
            }
            console.log(filasEncontradas);
            if(filasEncontradas==""){
                filasEncontradas+="<tr><td>El numero "+numero+" no ha obtenido ningun premio al menos desde 2011</td></tr>";
            }

            document.getElementById("filasEncontradas").innerHTML=filasEncontradas;

        }
</script>
</html>